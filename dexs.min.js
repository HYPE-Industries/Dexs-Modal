// Dexs Modal JS Library v1.0.0
// github.com/PolarComputer/Dexs-Modal

document.addEventListener("DOMContentLoaded",function(){var e=document.createElement("div");e.classList.add("dexs-shade"),e.classList.add("fade"),document.body.appendChild(e),document.getElementsByClassName("dexs-shade")[0].addEventListener("click",function(){dexs.close()})});const shade=[];shade.show=function(){var e=document.getElementsByClassName("dexs-shade");1!=e.length?console.error("Dexs Modal: Failed to reveal Dexs Modal Shade. There must be exactly one element with the class name 'dexs-shade'."):(e=e[0]).classList.add("show")},shade.hide=function(){var e=document.getElementsByClassName("dexs-shade");1!=e.length?console.error("Dexs Modal: Failed to suppress Dexs Modal Shade. There must be exactly one element with the class name 'dexs-shade'."):(e=e[0]).classList.remove("show")};const dexs=[];dexs.open=function(e){var t=document.getElementById(e);if(t){shade.show();document.querySelectorAll("[ data-stack-level ]");var s=document.querySelectorAll("modal.dexs.open");if(1==s.length&&s[0].id!=e){if(!(s=s[0]).hasAttribute("disable-stack")){var l=this.stack();l=0!=l.length?l[0].level+1:0,s.dataset.stackLevel=l}s.classList.remove("open")}t.classList.add("open")}else console.error("Dexs Modal: Failed to locate #"+e+", because element doesn't exist. Please use the element ID.")},dexs.closeAll=function(){shade.hide(),this.clearStack();for(var e=document.querySelectorAll("modal.dexs.open"),t=0;t<e.length;t++)e[t].classList.remove("open")},dexs.close=function(){var e=document.querySelectorAll("modal.dexs.open");if(1!=e.length)return!1;e=e[0],this.removeFromStack(e.id),e.classList.remove("open");var t=this.stack();return 0==this.stack().length?shade.hide():this.open(t[0].id),!0},dexs.isOpen=function(e){return!(!document.getElementById(e)||!document.getElementById(e).classList.contains("open"))},dexs.stack=function(){for(var e=document.querySelectorAll("[ data-stack-level ]"),t=[],s=0;s<e.length;s++)t.push({id:e[s].id,level:parseInt(e[s].getAttribute("data-stack-level"))});return t.sort(function(e,t){return e.level<t.level?1:e.level>t.level?-1:0}),t},dexs.clearStack=function(){for(var e=document.querySelectorAll("[ data-stack-level ]"),t=0;t<e.length;t++)e[t].removeAttribute("data-stack-level")},dexs.removeFromStack=function(e){document.getElementById(e).removeAttribute("data-stack-level")};
